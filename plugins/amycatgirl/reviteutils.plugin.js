state.plugins.add({"namespace":"amycatgirl","id":"revite-utils","entrypoint":"()=>{class CustomLogger{name;colour;constructor(a,A){this.name=a;this.colour=A}log(...a){console.log(`%c[${this.name}] ::%c`,`font-weight: bold; color: ${this.colour}`,\"font-weight: initial; color: initial\",...a)}}window.utils={};window.utils.CustomLogger=CustomLogger;var b=new CustomLogger(\"revite-utils\", \"#FD6671\"),e=new Map(),f=document.createElement(\"div\"),g=document.createElement(\"h6\"),h=new MutationObserver(a=>{if(a[0].addedNodes[0]?.id==\"Menu\"){const A=a[0].addedNodes[0];b.log(\"appending divider\");A.append(f);A.append(g);for(const[_,B] of e.entries()){const c=document.createElement(\"span\");c.innerText=_;c.addEventListener(\"click\",()=>B());b.log(\"appending: \",B,_);A.append(c)}}});class ModalHelper{type;data;constructor(a,A){this.type=a;this.data=A}get Type(){return this.type}get Data(){return this.data}showModal(){var a=this.data;b.log(\"About to show modal of type\",this.type,\"with the following data:\",a);controllers.modal.push({type:this.type,...a})}}window.utils.ModalHelper=ModalHelper;function d(a){return ~~Math.random()*a}window.utils.rng=d;window.utils.showCustomChannelModal=(title,message)=>controllers.modal.push({type:\"channel_info\",channel:{name:title,description:message}});window.utils.GetReactions=a=>{var A=window.controllers.client.getReadyClient(),c=A.messages.get(a),_=c.reactions.data_,B=[],F=new ModalHelper(\"channel_info\", {channel:{name:\"Reactions\"}});if(!A)throw \"Couldn't get a valid client, aborting\";b.log(\"Got ready client:\",A);if(!c)throw \"Couldn't find message in cache, aborting\";b.log(\"Found message:\",c);for(const[C,_b] of _){b.log(\"Pushing\",C,_b,\"to Array\");B.push(`:${C}:: ${[..._b.get().values()].map(value=>`<@${value}>`).join(\", \")}`)}F.data.channel.description=B.join(\"\\n\");F.showModal()};window.utils.SetCustomSound=(a,A)=>{var c=window.state.settings.get(\"notifications:sounds\");window.state.settings.set(\"notifications:sounds\",{...c,[a]:{path:A,enabled:!0}});b.log(\"Set custom sound\",a,\"to\",A)};window.utils.getCurrent=()=>window.location.pathname.match(/[0-7][\\dA-HJKMNP-TV-Z]{25}/g);window.utils.getCurrentClient=async function(){var a=await new Promise(res=>setInterval(()=>window.controllers.client.getReadyClient&&res(window.controllers.client.getReadyClient()),2000));return a};window.utils.scrambleServers=a=>{var A=window.state.ordering.orderedServers;for(let i=0;i<=a;i++){var _=~~Math.random()*(A.length-1),B=~~Math.random()*(A.length-1);b.log(\"Moving server in position\",_,\"to position\",B);window.state.ordering.reorderServer(_,B)}return!0};window.utils.toggleTheme=()=>{var a=window.state.settings.theme.getBase();b.log(\"Changing theme from\",a,\"to\",a==\"light\"?\"dark\":\"light\");switch(a) {case \"light\":window.state.settings.theme.setBase(\"dark\");break;case \"dark\":window.state.settings.theme.setBase(\"light\");break;default:throw \"Can\\'t find current theme\\'s base\"}};g.innerText=\"Plugins\";g.style.fontSize=\"10px\";g.style.color=\"var(--secondary-foreground)\";g.style.margin=\"3px 8px\";f.className=\"LineDivider-sc-135498f-0 fAjgmF\";window.utils.registerCTXEntry=(a,A)=>{e.set(a,A);console.log(\"Entries:\",e.entries())};window.utils.ctxobs=h;h.observe(document.body,{subtree:!0,childList:!0});b.log(\"Revite Plugin Utilities v1.0.0 has been loaded!\")};","version":"1.2.0"})

